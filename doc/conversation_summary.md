# 웹페이지 텍스트 미표시 문제 디버깅 요약

**날짜:** 2025년 12월 11일

## 1. 문제 개요

사용자는 `d:\_Workspace_Flutter\github_io\index.html` 파일의 특정 `div` 요소에 텍스트가 표시되지 않는 문제를 보고했습니다. 해당 요소는 국제화(i18n)를 위해 `data-i18n-key` 속성을 사용하고 있었습니다.

- **대상 요소:** `<div data-field="review" data-type="portfolio" data-i18n-key="projects.proj1_review" data-i18n-html></div>`
- **초기 증상:** "메뉴 텍스트가 안보입니다."

## 2. 조사 및 해결 과정

### 가설 1: Race Condition (경쟁 상태)

- **분석:**
  - 페이지 로드 시 `app.js` 스크립트가 `ko.json` 번역 파일을 비동기적으로 `fetch`합니다.
  - 문제의 `div`는 `style="display: none;"` 속성을 가진 부모 요소 안에 있어, "자세히 보기" 클릭 시 나타나는 모달(modal) 창의 데이터 저장소로 사용됩니다.
  - 모달을 채우는 로직이 번역 스크립트가 DOM에 내용을 채우기 전에 실행되어, 빈 내용이 표시될 것이라는 가설을 세웠습니다.

- **조치:**
  - `app.js` 파일의 모달 생성 로직을 수정했습니다.
  - DOM(`innerHTML`)에서 내용을 읽는 대신, 로드가 완료된 `i18nData` 자바스크립트 객체에서 직접 번역 데이터를 조회하여 모달 내용을 채우도록 변경했습니다.

- **결과:** 사용자는 문제가 해결되지 않았다고 보고했습니다.

### 가설 2: 파일 로드 실패 (CORS 정책)

- **분석:**
  - 사용자가 "preview 로 확인하는 중"이라고 언급한 점에 주목했습니다.
  - 로컬 웹 서버 없이 `file:///` 프로토콜로 `index.html` 파일을 직접 열 경우, 대부분의 최신 브라우저는 보안상의 이유로 `fetch`를 이용한 로컬 파일(e.g., `ko.json`) 요청을 차단합니다 (CORS 정책).
  - 이로 인해 `i18nData` 객체가 `null` 상태로 남아있어 번역 내용이 전혀 표시되지 않는 것이 가장 유력한 원인으로 판단되었습니다.

- **조치 (진단용):**
  - 가설을 검증하기 위해 `app.js`의 `loadI18nData` 함수 내 `catch` 블록을 수정했습니다.
  - 파일 로드에 실패할 경우, 페이지의 특정 영역(`hero-title`)에 "Error loading language data. Please check if you are running from a web server." 라는 에러 메시지가 명확하게 표시되도록 변경했습니다.

- **결과:** 사용자가 해당 에러 메시지가 표시되는 것을 확인했습니다. 이로써 파일 로드 실패가 근본 원인임이 확정되었습니다.

## 3. 최종 원인

- **환경 문제:** 로컬 웹 서버 환경이 아닌, 파일 시스템에서 직접 HTML 파일을 열어(e.g., `file:///...`) "preview"를 실행함.
- **브라우저 보안 정책:** 이로 인해 `fetch` API를 사용한 `ko.json` 파일 로드가 브라우저에 의해 차단됨.
- **결과:** 번역 데이터가 로드되지 않아 웹페이지에 해당 텍스트가 표시되지 않음.

## 4. 해결책

코드의 문제가 아닌 실행 환경의 문제이므로, 로컬 웹 서버를 구동하여 `http://` 프로토콜을 통해 파일에 접근하도록 안내했습니다.

1.  **터미널 실행:** 명령 프롬프트(CMD) 또는 PowerShell을 실행합니다.
2.  **디렉터리 이동:** 아래 명령어로 프로젝트의 루트 디렉터리로 이동합니다.
    ```shell
    cd d:\_Workspace_Flutter\github_io
    ```
3.  **웹 서버 실행:** Python의 내장 http 서버 모듈을 사용하여 웹 서버를 시작합니다. (Python이 설치되어 있어야 함)
    ```shell
    python -m http.server
    ```
4.  **웹 브라우저 접속:** 웹 브라우저를 열고 주소창에 다음 주소를 입력합니다.
    - `http://localhost:8000`

이 방법을 통해 `fetch` 요청이 정상적으로 처리되어 모든 콘텐츠가 올바르게 표시되는 것을 확인했습니다.
